<div class="popover-preview-container" >
    <div class="sc-d-flex">
        <button (click)="toggleSection('isPopoverPreviewVisible')" class="popover-preview-btn" [ngStyle]="{'background': btnBackground}">
            {{username}}
            <div class="btn-battlepass-lvl">
                <!--{{battlePass.level_priority}}-->
                1
            </div>
        </button>
    </div>
    <div class="popover-preview" *ngIf="isPopoverPreviewVisible"
         [ngStyle]="{
         'top':offsetTop > 0 && convertToPxl(offsetTop),
         'right':offsetRight > 0 && convertToPxl(offsetRight),
         'bottom':offsetBottom > 0 && convertToPxl(offsetBottom),
         'left': offsetLeft > 0 && convertToPxl(offsetLeft)}"
          >
            <scill-popover-preview-header username="franjoeric"
                                          [access-token]="accessToken"
                                          [app-id]="appId"
                                          [api-key]="apiKey"
                                          [user-id]="userId"
                                          [battle-pass-id]="battlePassId"
                                          [header-background]="headerBackground"
                                          [header-notch-absolute-right]="headerNotchAbsoluteRight"
                                          [header-text-color]="headerTextColor"
                                          [header-bp-lvl-color]="headerBpLvlColor"
                                          [header-progress-bar-background]="headerProgressBarBackground"
                                          [header-progress-bar-fill-background]="headerProgressBarFillBackground"
            >
            </scill-popover-preview-header>

        <scill-popover-preview-bp-section  [type-in-progress-color]="typeInProgressColor"
                                           [type-finished-color]="typeFinishedColor"
                                           [type-border-color]="typeBorderColor"
                                           [type-icon-color]="typeIconColor"
                                           [app-id]="appId"
                                           [api-key]="apiKey"
                                           [user-id]="userId"
                                           [battle-pass-id]="battlePassId"
                                           [access-token]="accessToken"
            >
            </scill-popover-preview-bp-section>

            <scill-popover-preview-section *ngFor="let category of categories;"
                                           [title]="category.category_name"
                                           [challenges]="category.challenges"
                                           [category]="category"
                                           [app-id]="appId"
                                           [type-in-progress-color]="typeInProgressColor"
                                           [type-finished-color]="typeFinishedColor"
                                           [type-border-color]="typeBorderColor"
                                           [type-icon-color]="typeIconColor"
                                           [access-token]="accessToken"
            >
            </scill-popover-preview-section>

    </div>
</div>
